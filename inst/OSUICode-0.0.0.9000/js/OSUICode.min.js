var s=()=>{let t=$(document).find("script[data-for='app']");return t=JSON.parse(t.html()),t.root="#app",t.methods={toggleDarkTheme:function(){this.$("html").toggleClass("theme-dark")}},$("body").attr("data-pwa")==="true"&&(t.serviceWorker={path:window.location.pathname+"service-worker.js",scope:window.location.pathname}),t.data=function(){return{gauge:[],tooltips:[]}},t};var v=t=>{t.hasOwnProperty("touch")&&t.touch.tapHold&&$("<style>").prop("type","text/css").html(`
          -moz-user-select: none;
          -webkit-user-select: none;
          user-select: none;`).appendTo("head")},m=t=>{if(t.hasOwnProperty("color")){let a=app.utils.colorThemeCSSProperties(t.color);$("<style>").prop("type","text/css").html(`:root {
        --f7-theme-color: ${a["--f7-theme-color"]};
        --f7-theme-color-rgb: ${a["--f7-theme-color-rgb"]};
        --f7-theme-color-shade: ${a["--f7-theme-color-shade"]};
        --f7-theme-color-tint: ${a["--f7-theme-color-tint"]};
      }`).appendTo("head")}},g=t=>{if(t.hasOwnProperty("filled")||(t.filled=!1),t.filled){let a=`
      :root,
      :root.theme-dark,
      :root .theme-dark {
        --f7-bars-bg-color: var(--f7-theme-color);
        --f7-bars-bg-color-rgb: var(--f7-theme-color-rgb);
        --f7-bars-translucent-opacity: 0.9;
        --f7-bars-text-color: #fff;
        --f7-bars-link-color: #fff;
        --f7-navbar-subtitle-text-color: rgba(255,255,255,0.85);
        --f7-bars-border-color: transparent;
        --f7-tabbar-link-active-color: #fff;
        --f7-tabbar-link-inactive-color: rgba(255,255,255,0.54);
        --f7-sheet-border-color: transparent;
        --f7-tabbar-link-active-border-color: #fff;
      }
      .appbar,
      .navbar,
      .toolbar,
      .subnavbar,
      .calendar-header,
      .calendar-footer {
        --f7-touch-ripple-color: var(--f7-touch-ripple-white);
        --f7-link-highlight-color: var(--f7-link-highlight-white);
        --f7-button-text-color: #fff;
        --f7-button-pressed-bg-color: rgba(255,255,255,0.1);
      }
      .navbar-large-transparent,
      .navbar-large.navbar-transparent {
        --f7-navbar-large-title-text-color: #000;

        --r: 0;
        --g: 122;
        --b: 255;
        --progress: var(--f7-navbar-large-collapse-progress);
        --f7-bars-link-color: rgb(
          calc(var(--r) + (255 - var(--r)) * var(--progress)),
          calc(var(--g) + (255 - var(--g)) * var(--progress)),
          calc(var(--b) + (255 - var(--b)) * var(--progress))
        );
      }
      .theme-dark .navbar-large-transparent,
      .theme-dark .navbar-large.navbar-transparent {
        --f7-navbar-large-title-text-color: #fff;
    }`;$("<style>").prop("type","text/css").html(`${a}`).appendTo("head")}},y=(t,a)=>(t.hasOwnProperty("dark")||(t.dark=!1),t.dark&&a.methods.toggleDarkTheme(),t.dark),p=(t,a)=>{v(t),m(t),g(t),y(t,a)};var d=t=>{let a=t.toast.create({position:"center",text:'<button id="install-button" class="toast-button button color-green">Install</button>'}),n;$(window).on("beforeinstallprompt",l=>{l.preventDefault(),n=l.originalEvent,a.open()}),t.utils.nextTick(function(){$("#install-button").on("click",function(){a.close(),!!n&&(n.prompt(),n.userChoice.then(l=>{console.log("\u{1F44D}","userChoice",l),n=null}))})},500)};var f=t=>{$(document).on("shiny:connected",function(a){Shiny.shinyapp.onDisconnected=function(){$("#shiny-disconnected-overlay").length===0&&$(document.body).append('<div id="shiny-disconnected-overlay"></div>')}}),$(document).on("shiny:disconnected",function(a){let n=t.toast.create({position:"center",text:'Oups... disconnected </br> </br> <div class="row"><button onclick="Shiny.shinyapp.reconnect();" class="toast-button button color-green col">Reconnect</button><button onclick="location.reload();" class="toast-button button color-red col">Reload</button></div>'}).open();$(".toast").css("background-color","#1c1c1d"),$(".toast-button").on("click",function(){n.close()})})};$(document).ready(function(){let t=s();app=new Framework7(t),mainView=app.views.create(".view-main");let a=p(t,app);t.dark=a,f(app),d(app),app.notification.create({text:"Hello, how are you?",on:{opened:function(){console.log("Notification opened")}}}).open(),app.utils.nextTick(function(){app.notification.create({text:"You look great!"}).open()},2e3),$("#mybutton").on("taphold",function(){app.dialog.alert("Tap hold fired!")})});$(document).ready(function(){let t=["gauge","swiper","searchbar"],a=["toast","photoBrowser","notification"],n=t.concat(a),l=e=>{t.indexOf(e)>-1?$("."+e).each(function(){var o=$(this),r=$(document).find("script[data-for='"+o.attr("id")+"']");r=JSON.parse(r.html()),r.el="#"+o.attr("id");var i=app[e].create(r);app.data[e][o.attr("id")]=i}):Shiny.addCustomMessageHandler(e,function(o){o.id!==void 0&&(o.on={opened:function(){Shiny.setInputValue(o.id,!0)},closed:function(){Shiny.setInputValue(o.id,!1)}});var r=app[e].create(o);r.open()})};n.forEach(function(e){l(e)}),Shiny.addCustomMessageHandler("update-instance",function(e){var o;for(let c in app.data)for(let b in app.data[c])b===e.id&&(o=c);var r=app.data[o][e.id],i=r.params,u=app.utils.extend(i,e.options);r.destroy();var h=app[o].create(u);app.data[o][e.id]=h}),Shiny.addCustomMessageHandler("add_tooltip",function(e){if(app.data.tooltips[e.targetEl]===void 0){let o=app.tooltip.create(e);o.show(),app.data.tooltips[e.targetEl]=o}}),Shiny.addCustomMessageHandler("update_tooltip",function(e){if(app.data.tooltips[e.targetEl]!==void 0){let o=app.tooltip.get(e.targetEl);if(e.action==="update")o&&o.setText(e.text);else if(e.action==="toggle")if(o){let r=Object.assign({},o);app.data.tooltips[e.targetEl]=r,o.destroy()}else{let r=app.data.tooltips[e.targetEl].params;o=app.tooltip.create(r),app.data.tooltips[e.targetEl]=o}}})});
//# sourceMappingURL=OSUICode.min.js.map
